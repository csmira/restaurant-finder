(this["webpackJsonprestaurant-finder"]=this["webpackJsonprestaurant-finder"]||[]).push([[0],{27:function(e,t,a){e.exports=a(59)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),i=a(6),u=a(7),o=a(24),l=a(2),p=a(3),d=a(5),f=a(4),h=(a(8),a(38),a(39),a(40),function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card",tabIndex:"0"},r.a.createElement("div",{className:"card__content"},this.props.restaurant.name,r.a.createElement("span",{className:"text--light"},this.props.restaurant.address),r.a.createElement("span",{className:"price"},"$",this.props.restaurant.price)))}}]),a}(r.a.Component)),m=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"renderFilteredRestaurants",value:function(){var e=this,t=this.props.restaurants.sort((function(e,t){return e.name.localeCompare(t.name)}));return(t=(t=this.props.filters.asc?t:t.reverse()).filter((function(t){var a=t.name,n=t.address,r=t.area,s=e.props.filters.refine.toLowerCase(),c=a.toLowerCase().includes(s)||n.toLowerCase().includes(s)||r.toLowerCase().includes(s);return!(""!==s&&!c)}))).map((function(e){return r.a.createElement(h,{key:e.id,restaurant:e})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"restaurantsGrid"},this.renderFilteredRestaurants())}}]),a}(r.a.Component),y=Object(i.b)((function(e){return{restaurants:e.restaurants,filters:e.filters}}))(m),b=a(13),v=a.n(b),E=a(25),O=a(26),g=a.n(O).a.create({baseURL:"http://opentable.herokuapp.com/api/"}),C=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleSearchButton=function(t){t.preventDefault(),""!==e.props.city?e.props.fetchRestaurants(e.props.city):alert("Enter a city name")},e.handleAscButton=function(t){t.stopPropagation(),e.props.toggleAscFilter(!0)},e.handleDescButton=function(t){t.stopPropagation(),e.props.toggleAscFilter(!1)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"searchBar"},r.a.createElement("form",null,r.a.createElement("div",{className:"ui"},r.a.createElement("input",{className:"input input--lg",type:"text",placeholder:"Search City","aria-label":"search bar",value:this.props.city,onChange:function(t){return e.props.setCity(t.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn",onClick:this.handleSearchButton},"Search")),r.a.createElement("div",{className:"ui filters"},r.a.createElement("input",{type:"text",className:"input input--md",placeholder:"Refine Search","aria-label":"refine bar",value:this.props.filters.refine,onChange:function(t){return e.props.setRefineFilter(t.target.value)}}),r.a.createElement("button",{type:"button",className:"btn","aria-label":"ascending sort",onClick:this.handleAscButton},"ASC"),r.a.createElement("button",{type:"button",className:"btn","aria-label":"descending sort",onClick:this.handleDescButton},"DESC"))))}}]),a}(r.a.Component),R=Object(i.b)((function(e){return{restaurants:e.restaurants,city:e.city,filters:e.filters}}),{fetchRestaurants:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.get("restaurants",{params:{city:e}});case 3:n=t.sent,a({type:"FETCH_RESTAURANTS",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"FETCH_ERROR",payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setCity:function(e){return{type:"SET_CITY",payload:e}},setRefineFilter:function(e){return{type:"SET_REFINE_FILTER",payload:e}},toggleAscFilter:function(e){return{type:"TOGGLE_ASC_FILTER",payload:e}}})(C),j=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"mainUI"},r.a.createElement("div",{className:"searchOptions"},r.a.createElement("h1",null," Restaurant Finder "),r.a.createElement(R,null)),r.a.createElement(y,null))}}]),a}(r.a.Component),T={refine:"",asc:!0},N=Object(u.c)({restaurants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"FETCH_RESTAURANTS"===t.type?t.payload.restaurants.map((function(e){return{id:e.id,name:e.name,address:e.address,area:e.area,price:e.price}})):e},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CITY"===t.type?t.payload:e},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REFINE_FILTER":return Object.assign({},e,{refine:t.payload});case"TOGGLE_ASC_FILTER":return Object.assign({},e,{asc:t.payload});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"FETCH_ERROR"===t.type?t.payload:e}});c.a.render(r.a.createElement(i.a,{store:Object(u.d)(N,Object(u.a)(o.a))},r.a.createElement(j,null)),document.querySelector("#root"))},8:function(e,t,a){}},[[27,1,2]]]);
//# sourceMappingURL=main.e456dfec.chunk.js.map